<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

	<Import Project="$(MSBuildThisFileDirectory)$(MSBuildThisFileName).props" Condition="'$(MicrosoftCommonPropsHasBeenImported)' != 'true' AND Exists('$(MSBuildThisFileDirectory)$(MSBuildThisFileName).props')"/>

	<!--
		We are doing a multi-targeting build if there is no list of target frameworks specified
		nor is there a current target framework being built individually. In that case, this import is
		redirected to $(MSBuildThisFileName).CrossTargeting.targets.
	-->
	<PropertyGroup Condition="'$(TargetFrameworks)' != '' AND '$(TargetFramework)' == ''">
		<IsMultiTargetingBuild>true</IsMultiTargetingBuild>
	</PropertyGroup>

	<Choose>
		<When Condition="'$(IsMultiTargetingBuild)' == 'true'">
			<PropertyGroup>
				<MicrosoftCommonTargetsPath>$(MSBuildThisFileDirectory)$(MSBuildThisFileName).CrossTargeting.targets</MicrosoftCommonTargetsPath>
			</PropertyGroup>
		</When>
		<Otherwise>
			<PropertyGroup>
				<MicrosoftCommonTargetsPath>$(MSBuildThisFileDirectory)$(MSBuildThisFileName).CurrentVersion.targets</MicrosoftCommonTargetsPath>
			</PropertyGroup>
		</Otherwise>
	</Choose>

	<Import Project="$(MicrosoftCommonTargetsPath)"/>

</Project>