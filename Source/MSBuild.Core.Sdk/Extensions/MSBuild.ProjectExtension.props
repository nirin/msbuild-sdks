<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

	<!-- We need to initialize `MSBuildProjectExtensionsPath` property. -->
	<Import Project="MSBuild.ProjectExtension.Core.props" Condition="'$(ImportedMSBuildProjectExtensionCoreProps)' != 'true'"/>

	<Import Project="$(CustomProjectExtensionProps)" Condition="Exists('$(CustomProjectExtensionProps)')"/>

	<PropertyGroup Condition="'$(MSBuildVersion)' == '' OR '$(MSBuildVersion)' &lt; '16.0'">
		<MSBuildAllProjects Condition="Exists('$(CustomProjectExtensionProps)')">$(MSBuildAllProjects);$(CustomProjectExtensionProps)</MSBuildAllProjects>
	</PropertyGroup>

	<PropertyGroup Condition="'$(MSBuildProjectExtensionProps)' == ''">
		<MSBuildProjectExtensionPropsFile Condition="'$(MSBuildProjectExtensionPropsFile)' == ''">$(MSBuildProjectFile).*.props</MSBuildProjectExtensionPropsFile>
		<MSBuildProjectExtensionProps Condition="'$(MSBuildProjectExtensionsPath)' != ''">$(MSBuildProjectExtensionsPath)$(MSBuildProjectExtensionPropsFile)</MSBuildProjectExtensionProps>
	</PropertyGroup>

	<Import Project="$(MSBuildProjectExtensionProps)" Condition="Exists('$(MSBuildProjectExtensionProps)')"/>

	<PropertyGroup Condition="'$(MSBuildVersion)' == '' OR '$(MSBuildVersion)' &lt; '16.0'">
		<MSBuildAllProjects Condition="Exists('$(MSBuildProjectExtensionProps)')">$(MSBuildAllProjects);$(MSBuildProjectExtensionProps)</MSBuildAllProjects>
	</PropertyGroup>

	<PropertyGroup Condition="'$(MSBuildVersion)' == '' OR '$(MSBuildVersion)' &lt; '16.0'">
		<MSBuildAllProjects Condition="!(Exists('$(MSBuildProjectExtensionProps)') AND Exists('$(CustomProjectExtensionProps)'))">$(MSBuildAllProjects);$(MSBuildThisFileFullPath)</MSBuildAllProjects>
	</PropertyGroup>

</Project>