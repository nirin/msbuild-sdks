<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

	<!-- Check if we already imported them as props. -->
	<Import Project="MSBuild.SolutionExtension.Core.props" Condition="'$(ImportedMSBuildSolutionExtensionCoreProps)' != 'true'"/>

	<PropertyGroup Condition="'$(MSBuildSolutionExtensionTargets)' == ''">
		<MSBuildSolutionExtensionTargetsFile Condition="'$(MSBuildSolutionExtensionTargetsFile)' == ''">$(MSBuildSolutionFile).*.targets</MSBuildSolutionExtensionTargetsFile>
		<MSBuildSolutionExtensionTargets Condition="'$(MSBuildSolutionExtensionsPath)' != ''">$(MSBuildSolutionExtensionsPath)$(MSBuildSolutionExtensionTargetsFile)</MSBuildSolutionExtensionTargets>
	</PropertyGroup>

	<Import Project="$(MSBuildSolutionExtensionTargets)" Condition="Exists('$(MSBuildSolutionExtensionTargets)')"/>

	<PropertyGroup Condition="'$(MSBuildVersion)' == '' OR '$(MSBuildVersion)' &lt; '16.0'">
		<MSBuildAllProjects Condition="Exists('$(MSBuildSolutionExtensionTargets)')">$(MSBuildAllProjects);$(MSBuildSolutionExtensionTargets)</MSBuildAllProjects>
	</PropertyGroup>

	<Import Project="$(CustomSolutionExtensionTargets)" Condition="Exists('$(CustomSolutionExtensionTargets)')"/>

	<PropertyGroup Condition="'$(MSBuildVersion)' == '' OR '$(MSBuildVersion)' &lt; '16.0'">
		<MSBuildAllProjects Condition="Exists('$(CustomSolutionExtensionTargets)')">$(MSBuildAllProjects);$(CustomSolutionExtensionTargets)</MSBuildAllProjects>
	</PropertyGroup>

	<PropertyGroup Condition="'$(MSBuildVersion)' == '' OR '$(MSBuildVersion)' &lt; '16.0'">
		<MSBuildAllProjects Condition="!(Exists('$(MSBuildSolutionExtensionTargets)') AND Exists('$(CustomSolutionExtensionTargets)'))">$(MSBuildAllProjects);$(MSBuildThisFileFullPath)</MSBuildAllProjects>
	</PropertyGroup>

</Project>